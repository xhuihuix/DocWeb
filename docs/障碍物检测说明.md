#障碍物检测 #西门子比赛


![[Drawing 2022-07-14 23.59.56.excalidraw 1.png]]

- 点云输入：本项目中采用SLAM激光激光雷达对周围环境进行检测，考虑到车上有多个传感器共同作业，需要对输入的激光点云做时间同步和外参标定，便于后续对移动物体的检测补偿以及物体分割。
- 预处理：考虑到激光雷达的采样噪声和点云数据量大的问题，需要对点云做预处理，减少数据量，剔除噪声点。在本环节中，需要进行的操作室ROI（感兴趣区域）提取，考虑点云的后续处理操作以及系统的速度，我们通过滤波器将超过50m的点云滤除，从而得到小车周围50m内的点云数据。
- 地面分割：点云分割任务是将场景与其中的障碍物分离开来，即地面的分割。常见的分割方法有很多，例如栅格化后根据网格内点云的高度差判断路沿、对同一条扫描线上的点集，计算曲率变化，从而判断路沿点、根据点云法向量的变化，求取路沿点等。本项目采用平面拟合-RANSAC，通过设定一个距离阈值，首先设定一个随机的初始点，然后对距离在定义的阈值公差范围内的点添加到内点列表中，不断重复这样的操作，最终得到可用内点最多的迭代作为模型。
- 团簇聚类：预处理和地面分割后，留下路面上障碍物的点云，背景区域以及地面已被移除。本项目中用kd树建立点云的数据接口，使用欧氏距离作为K近邻算法点距离的计算方法，将属于同一个物体的点云进行聚类操作。
- 包围框拟合：在将障碍物点云聚类完成后，使用一个三维的包围框将同一聚类点集包围，作为一个物体进行处理。使用凸集的最小外接框将障碍物包围，得到障碍物的信息 。

# 测试方案


1. 雷达数据仿真：

在linux系统搭建ROS系统环境，将激光雷达与电脑配置在同意网络下，连接到激光雷达。创建一个ROS工程，使用roscore指令实时获取传回的点云数据并显示成点云图，初步检测激光雷达的可用性以及数据异常情况，最后将数据保持为PCD格式数据，文件作为后续障碍物分割的测试数据集。

2. 静态环境测试：